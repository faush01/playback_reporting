<div data-role="page" class="page type-interior pluginConfigurationPage withTabs"
	 data-require="emby-button,emby-select,emby-checkbox,emby-linkbutton"
	 data-controller="__plugin/playback_report_settings.js">
	<div data-role="content">
		<div class="content-primary" style="padding-top:2px;">
			<h2 style="margin-top: 0px;margin-bottom: 0px;">Playback Report Settings</h2>

			<fieldset>
				<legend style="font-weight:bold;font-size:large;">Activity playlists</legend>
				<p>
					<table id="activity_playlist_table">
						<thead>
							<tr style="text-align: left;">
								<th class="detailTableHeaderCell" data-priority="2">Name</th>
								<th class="detailTableHeaderCell" data-priority="1">Type</th>
								<th class="detailTableHeaderCell" data-priority="3">Days</th>
								<th class="detailTableHeaderCell" data-priority="3">Size</th>
								<th class="detailTableHeaderCell" data-priority="3">&nbsp;</th>
							</tr>
						</thead>
						<tbody class="resultBody" id="activity_playlist_list"></tbody>
					</table>
				</p>
				<p>
					New activity playlist :
					<input type="text" id="activity_playlist_name" placeholder="Playlist Name" title="Playlist Name" />
					<select id="activity_playlist_type" title="Playlist item type">
						<option value="Movie" selected>Movies</option>
						<option value="Episode">Episodes</option>
					</select>
					<input type="number" id="activity_playlist_days" min="0" max="1000" placeholder="# of Days" title="Number of Days" />
					<input type="number" id="activity_playlist_size" min="0" max="1000" placeholder="# of Items" title="Number of Items" />
					<button id="activity_playlist_add">Add</button>
				</p>
			</fieldset>

			<br />

			<fieldset>
				<legend style="font-weight:bold;font-size:large;">Data retention</legend>
				<p>
					Keep data for X time, this is used in the scheduled task to trim your data and keep only data within the requested time period.
				</p>
				Keep data for
				<select id="max_data_age_select">
					<option value="0">Clear All</option>
					<option value="1">1 Month</option>
					<option value="2">2 Months</option>
					<option value="3">3 Months</option>
					<option value="6">6 Months</option>
					<option value="12">1 Year</option>
					<option value="24">2 Years</option>
					<option value="36">3 Years</option>
					<option value="-1">Forever</option>
				</select>
				<h3>
					<strong>Cleanup deleted users</strong>
				</h3>
				<p>
					When you remove users from your system playback activity for old deleted users becomes assigned to unknown, you can remove this data to clean up your reports.
				</p>
				<p>
					<button id="remove_unknown_button">Cleanup deleted users</button>
				</p>
			</fieldset>

			<br />

			<fieldset>
				<legend style="font-weight:bold;font-size:large;">Backup</legend>
				<p>
					You can back up all your playback activity to a TSV file, this can then later be re imported if you need to rebuild your server.<br />
					When you load backup data it adds to your data, this allows you to have multiple backup files and import each one as needed.<br />
					The saved backup data is in TSV format so can be loaded into other tools like Excel to build highly customised reports.
				</p>
				<p>
					<button id="set_backup_path">Set Backup Path</button> Backup Path : <span id="backup_path_label"></span><br />
				</p>
				<p>
					Backup files to keep
					<select id="files_to_keep">
						<option value="1">1</option>
						<option value="5">5</option>
						<option value="10">10</option>
						<option value="15">15</option>
						<option value="20">20</option>
					</select>
				</p>
				<p>
					<button id="backup_data_now">Save Backup Data</button>
					<button id="load_backup_data">Load Backup Data</button>
				</p>
			</fieldset>

			<br />

			<fieldset>
				<legend style="font-weight:bold;font-size:large;">Ignored user list</legend>
				<p>
					Users can be set to ignored so you can have test users and admins that are not included in any of the reports.
				</p>
				<select id="user_list_for_add"></select> <button id="add_user_to_list">Add</button> <button id="remove_user_from_list">Remove</button>
				<ul id="user_list_items"></ul>
			</fieldset>

			<br />

			<fieldset>
				<legend style="font-weight:bold;font-size:large;">Colour palette</legend>

				Colour list<br />
				<div id="colour_blocks"></div>
				<br />
				<table>
					<tr>
						<td>
							<input type="range" min="0" max="255" value="128" id="colour_slider_red">
							<br />
							<input type="range" min="0" max="255" value="128" id="colour_slider_green">
							<br />
							<input type="range" min="0" max="255" value="128" id="colour_slider_blue">
						</td>
						<td style="padding-left: 20px;">
							<span id="colour_test_block" style="text-align:center; width:75px; height:50px; display:inline-block; background:#808080;"></span>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<input type="text" id="new_colour_text" /> <button id="add_colour_button">Add</button>
						</td>
					</tr>
				</table>
			</fieldset>

			<br />

		</div>
	</div>
</div>